#!/bin/bash

echo "================================================"
echo "  健康達人積分賽 - 資料更新工具"
echo "================================================"
echo ""

echo "[1/3] 檢查 Git 狀態..."
git status
echo ""

echo "[2/3] 新增並提交變更..."
git add data/20250903分數累積表.xlsx
git commit -m "更新分數資料 - $(date)"
echo ""

echo "[3/3] 上傳到 GitHub..."
git push origin main
echo ""

if [ $? -eq 0 ]; then
    echo "================================================"
    echo "  ✅ 更新成功！"
    echo "  ⏰ 請等待 1-2 分鐘讓 Streamlit Cloud 自動更新"
    echo "================================================"
else
    echo "================================================"
    echo "  ❌ 更新失敗，請檢查錯誤訊息"
    echo "================================================"
fi

echo ""
read -p "按 Enter 鍵繼續..."
